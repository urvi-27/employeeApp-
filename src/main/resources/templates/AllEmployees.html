<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="~{layouts/master :: headelement}">

</head>
<style>
#toast-container>.toast-success {
	background-color: #28a745 !important;
	color: white !important;
	font-weight: 500;
	box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
}
</style>
<body class="sb-nav-fixed">
	<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark"
		th:replace="~{layouts/master :: navelement}"></nav>
	<div id="layoutSidenav">
		<div id="layoutSidenav_nav"
			th:replace="~{layouts/master :: sidebarelement}">
			<nav class="sb-sidenav accordion sb-sidenav-dark"
				id="sidenavAccordion"></nav>
		</div>
		<div id="layoutSidenav_content">
			<main>
				<div class="container-fluid px-4">
					<div class="card mb-4">
						<div class="card-header">
							<i class="fas fa-users me-1"></i> All Employees
						</div>
						<div class="card-body">
							<table id="datatablesSimple">
								<thead>
									<tr>
										<th>Employee ID</th>
										<th>Full Name</th>
										<th>Department</th>
										<th>Job Role</th>
										<th>Email</th>
										<th>Phone</th>
										<th>Action</th>
									</tr>
								</thead>

								<tbody>
									<tr th:each="employee:${employees}">
										<td th:text="${employee.id}"></td>
										<td th:text="${employee.employeeFullname}"></td>
										<td th:text="${employee.department}"></td>
										<td th:text="${employee.jobRole}"></td>
										<td th:text="${employee.employeeEmailAddress}"></td>
										<td th:text="${employee.employeePhoneNumber}"></td>
										<td style="white-space: no-wrap"><a
											th:href="@{/employees/{id}(id=${employee.id})}"
											class="btn btn-sm btn-primary"> More Info</a>
											<form th:action="@{/employee/delete/{id}(id=${employee.id})}"
												method="post" style="display: inline;">
												<button type="submit" class="btn btn-sm btn-danger"
													onclick="return confirm('Are you sure you want to delete this employee?');">
													<i class="fa fa-trash"></i> Delete
												</button>
											</form></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</main>
			<footer class="py-4 bg-light mt-auto"
				th:replace="~{layouts/master :: footerelement}">
				<div class="container-fluid px-4">
					<div
						class="d-flex align-items-center justify-content-between small">
						<div class="text-muted">Copyright &copy; Employee Management
							System 2023</div>
						<div>
							<a href="#">Privacy Policy</a> &middot; <a href="#">Terms
								&amp; Conditions</a>
						</div>
					</div>
				</div>
			</footer>
		</div>
	</div>
	<script>
		toastr.options = {
			"closeButton" : true,
			"debug" : false,
			"newestOnTop" : true,
			"progressBar" : true,
			"positionClass" : "toast-top-right",
			"preventDuplicates" : true,
			"onclick" : null,
			"showDuration" : "300",
			"hideDuration" : "1000",
			"timeOut" : "5000",
			"extendedTimeOut" : "1000",
			"showEasing" : "swing",
			"hideEasing" : "linear",
			"showMethod" : "fadeIn",
			"hideMethod" : "fadeOut"
		}
	</script>
	<script>
		toastr.options = {
			"closeButton" : true,
			"progressBar" : true,
			"positionClass" : "toast-bottom-right",
			"timeOut" : "5000"
		}
	</script>

	<script th:if="${successMessage != null}">
		$(document).ready(function() {
			toastr.success('[[${successMessage}]]');
		});
	</script>

	<script th:if="${errorMessage != null}">
		$(document).ready(function() {
			toastr.error('[[${errorMessage}]]');
		});
	</script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"
		crossorigin="anonymous"></script>
	<script src="assets/demo/chart-area-demo.js"></script>
	<script src="assets/demo/chart-bar-demo.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
		crossorigin="anonymous"></script>
	<script src="js/datatables-simple-demo.js"></script>
</body>
</html>