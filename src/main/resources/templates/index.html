<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="~{layouts/master :: headelement}">

</head>
<body class="sb-nav-fixed">
	<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark"
		th:replace="~{layouts/master :: navelement}"></nav>
	<div id="layoutSidenav">
		<div id="layoutSidenav_nav"
			th:replace="~{layouts/master :: sidebarelement}">
			<nav class="sb-sidenav accordion sb-sidenav-dark"
				id="sidenavAccordion"></nav>
		</div>
		<div id="layoutSidenav_content">
			<main>
				<div class="container-fluid px-4">
					<h1 class="mt-4">Employee Management Dashboard</h1>
					<ol class="breadcrumb mb-4">
						<li class="breadcrumb-item active">Dashboard</li>
					</ol>

					<!-- Stats Cards -->
					<div class="row">
						<div class="col-xl-3 col-md-6">
							<div class="card bg-primary text-white mb-4">
								<div class="card-body">
									<h4>Total Employees</h4>
									<div class="d-flex align-items-center">
										<div class="fs-2" th:text="${totalEmployees}">0</div>
										<div class="ms-auto">
											<i class="fas fa-users fs-2"></i>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-md-6">
							<div class="card bg-success text-white mb-4">
								<div class="card-body">
									<h4>Departments</h4>
									<div class="d-flex align-items-center">
										<div class="fs-2" th:text="${totalDepartments}">0</div>
										<div class="ms-auto">
											<i class="fas fa-building fs-2"></i>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-md-6">
							<div class="card bg-info text-white mb-4">
								<div class="card-body">
									<h4>Avg Salary</h4>
									<div class="d-flex align-items-center">
										<div class="fs-2" th:text="${'$' + averageSalary}">$0</div>
										<div class="ms-auto">
											<i class="fas fa-dollar-sign fs-2"></i>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-md-6">
							<div class="card bg-warning text-white mb-4">
								<div class="card-body">
									<h4>New Hires</h4>
									<div class="d-flex align-items-center">
										<div class="fs-2" th:text="${newHires}">0</div>
										<div class="ms-auto">
											<i class="fas fa-user-plus fs-2"></i>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<!-- Recent Employees Table -->
					<div class="card mb-4">
						<div class="card-header">
							<div class="d-flex justify-content-between align-items-center">
								<div>
									<i class="fas fa-table me-1"></i>Recent Employees
								</div>
								<a class="btn btn-primary btn-sm" href="/employee_form">Add
									New Employee</a>
							</div>
						</div>
						<div class="card-body">
							<table id="datatablesSimple" class="table table-striped">
								<thead>
									<tr>
										<th>Name</th>
										<th>Department</th>
										<th>Job Role</th>
										<th>Email</th>
										<th>Phone</th>
										<th>Salary</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="employee : ${recentEmployees}">
										<td th:text="${employee.employeeFullname}">John Doe</td>
										<td th:text="${employee.department}">IT</td>
										<td th:text="${employee.jobRole}">Developer</td>
										<td th:text="${employee.employeeEmailAddress}">john@example.com</td>
										<td th:text="${employee.employeePhoneNumber}">123-456-7890</td>
										<td th:text="${'$' + employee.salary}">$75,000</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>

				<!-- Chart Scripts -->
				<script>
					// Department Distribution Chart
					const deptCtx = document.getElementById('departmentChart')
							.getContext('2d');
					const deptChart = new Chart(deptCtx, {
						type : 'bar',
						data : {
							labels : [ 'IT', 'HR', 'Finance', 'Marketing',
									'Operations' ],
							datasets : [ {
								label : 'Employees',
								data : [ 12, 8, 6, 10, 7 ],
								backgroundColor : [ 'rgba(54, 162, 235, 0.7)',
										'rgba(255, 99, 132, 0.7)',
										'rgba(255, 206, 86, 0.7)',
										'rgba(75, 192, 192, 0.7)',
										'rgba(153, 102, 255, 0.7)' ],
								borderColor : [ 'rgba(54, 162, 235, 1)',
										'rgba(255, 99, 132, 1)',
										'rgba(255, 206, 86, 1)',
										'rgba(75, 192, 192, 1)',
										'rgba(153, 102, 255, 1)' ],
								borderWidth : 1
							} ]
						},
						options : {
							responsive : true,
							scales : {
								y : {
									beginAtZero : true
								}
							}
						}
					});

					// Gender Distribution Chart
					const genderCtx = document.getElementById('genderChart')
							.getContext('2d');
					const genderChart = new Chart(genderCtx, {
						type : 'doughnut',
						data : {
							labels : [ 'Male', 'Female', 'Other' ],
							datasets : [ {
								data : [ 25, 18, 2 ],
								backgroundColor : [ 'rgba(54, 162, 235, 0.7)',
										'rgba(255, 99, 132, 0.7)',
										'rgba(255, 206, 86, 0.7)' ],
								borderColor : [ 'rgba(54, 162, 235, 1)',
										'rgba(255, 99, 132, 1)',
										'rgba(255, 206, 86, 1)' ],
								borderWidth : 1
							} ]
						},
						options : {
							responsive : true
						}
					});
				</script>

			</main>
			<footer class="py-4 bg-light mt-auto"
				th:replace="~{layouts/master :: footerelement}">
				<div class="container-fluid px-4">
					<div
						class="d-flex align-items-center justify-content-between small">
						<div class="text-muted">Copyright &copy; Your Website 2023</div>
						<div>
							<a href="#">Privacy Policy</a> &middot; <a href="#">Terms
								&amp; Conditions</a>
						</div>
					</div>
				</div>
			</footer>
		</div>
	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<script src="js/scripts.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"
		crossorigin="anonymous"></script>
	<script src="assets/demo/chart-area-demo.js"></script>
	<script src="assets/demo/chart-bar-demo.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
		crossorigin="anonymous"></script>
	<script src="js/datatables-simple-demo.js"></script>
</body>
</html>
